<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>æˆ‘çš„åŸºé‡‘è´¦æˆ·å®æ—¶ä¼°å€¼</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: system-ui; padding: 16px; background: #f7f7f7; }
    h2 { margin-bottom: 6px; }
    .total { font-size: 20px; margin-bottom: 12px; }
    .card {
      background: #fff;
      border-radius: 10px;
      padding: 12px;
      margin-bottom: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,.06);
    }
    .up { color: #e60012; }
    .down { color: #009944; }
  </style>
</head>
<body>

<h2>ğŸ“ˆ é™ˆæ³½çš„åŸºé‡‘è´¦æˆ·</h2>
<div class="total" id="total">åŠ è½½ä¸­â€¦</div>
<div id="list"></div>

<script>
const funds = [
  { code: "021363", name: "æ˜“æ–¹è¾¾ä¸­è¯æ²ªæ·±æ¸¯é»„é‡‘äº§ä¸šè‚¡ç¥¨æŒ‡æ•°C", money: 666.60 }, 
{ code: "014674", name: "å¯Œå›½ä¸­è¯æ¸¯è‚¡é€šäº’è”ç½‘ETFè”æ¥C", money: 97.04},
 { code: "012970", name: "é¹åå›½è¯åŠå¯¼ä½“èŠ¯ç‰‡ETFè”æ¥C", money: 255.59 },
 { code: â€œ025194", name: "é“¶åä¸­è¯å…¨æŒ‡è¯åˆ¸å…¬å¸ETFè”æ¥C", money: 48.63 },
 { code: "025857", name: "åå¤ä¸­è¯ç”µç½‘è®¾å¤‡ä¸»é¢˜ETFè”æ¥C", money: 230.00 },
  { code: "005827", name: "å…´ä¸šä¸­è¯æ¸¯è‚¡é€šäº’è”ç½‘æŒ‡æ•°C", money: 1430.91 }
];

function load() {
  let total = 0;
  let html = "";

  Promise.all(
    funds.map(f =>
      fetch(`https://fundgz.1234567.com.cn/js/${f.code}.js`)
        .then(r => r.text())
        .then(t => JSON.parse(t.match(/\{.*\}/)[0]))
        .then(d => {
          let rate = parseFloat(d.gszzl);
          let value = f.money * (1 + rate / 100);
          total += value;

          html += `
            <div class="card">
              <strong>${f.name}</strong><br>
              æ¶¨è·Œå¹…ï¼š
              <span class="${rate >= 0 ? "up" : "down"}">${rate}%</span><br>
              å½“å‰ä¼°å€¼ï¼š${value.toFixed(2)} å…ƒ
            </div>
          `;
        })
    )
  ).then(() => {
    document.getElementById("total").innerText =
      "è´¦æˆ·æ€»ä¼°å€¼ï¼š" + total.toFixed(2) + " å…ƒ";
    document.getElementById("list").innerHTML = html;
  });
}

load();
setInterval(load, 30000);
</script>

</body>
</html>
